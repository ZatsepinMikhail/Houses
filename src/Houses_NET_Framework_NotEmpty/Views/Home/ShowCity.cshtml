@{
    ViewData["Title"] = ViewData["lat"];
    string lat = ViewData["lat"] as string;
    string lng = ViewData["lng"] as string;
    string lats = ViewData["lats"] as string;
    string lngs = ViewData["lngs"] as string;
    string years = ViewData["years"] as string;
}

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Houses</title>

    <script type="text/javascript">

        function getColor(year) {
            //years 1930, 1940, 1950, 1960, 1970, 1980, 1990, 2000, 2010
            var colors = ['#a50000', '#eaa400', '#f2ff00', '#5bc400', '#006032', '#009b86', '#150091', '#4a0060', '#96007a'];
            return colors[Math.floor((year - 1930) / 10)];
        }

        function initialize() {
            var map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: parseFloat(@lat), lng: parseFloat(@lng) },
                scrollwheel: false,
                zoom: 13
            });

            var years = @years;
            var lats = @lats;
            var lngs = @lngs;

            for (var index = 0; index < lats.length; ++index) {
                var myLatLng = { lat: lats[index], lng: lngs[index] };
                var marker = new google.maps.Marker({
                    icon: {
                        path: google.maps.SymbolPath.CIRCLE,
                        fillOpacity: 0.5,
                        fillColor: getColor(years[index]),   
                        strokeOpacity: 0.5,
                        strokeColor: '#000000',
                        strokeWeight: 1.0, 
                        scale: 4
                    },
                    position: myLatLng,
                    map: map
                });
            }
        }
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0YOF3byJvtJlfR6_2woTLNGmHlQKPueY&callback=initialize"
            async defer></script>
</head>
<body>
    <form id="form1" runat="server">
        <div>
            <div id="map" style="width:100%;height:500px"></div>
        </div>
    </form>
</body>
</html>